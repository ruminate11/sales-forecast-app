<!DOCTYPE html>
<html>
<head>
<title>Sales Forecast Dashboard</title>

<link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Manrope}

body{
height:100vh;
display:flex;
justify-content:center;
align-items:center;
background:linear-gradient(135deg,#f6f8fb,#eef1f5);
}

body.dark-mode{
background:linear-gradient(135deg,#0f172a,#1e293b);
color:white;
}

/* layout */
.dashboard{
display:flex;
gap:30px;
width:1200px;
height:650px;
}

/* input card */
.input-card{
width:350px;
padding:30px;
background:white;
border-radius:16px;
box-shadow:0 15px 40px rgba(0,0,0,.08);
}

body.dark-mode .input-card{
background:#1e293b;
}

/* graph card */
.graph-card{
flex:1;
padding:20px;
border-radius:16px;
background:white;
overflow-y:auto;
box-shadow:0 15px 40px rgba(0,0,0,.08);
}

body.dark-mode .graph-card{
background:#1e293b;
}

.graph-card img{
width:100%;
border-radius:12px;
background:white;
padding:10px;
}

body.dark-mode .graph-card img{
background:#0f172a;
}

/* form */
input{
width:100%;
padding:10px;
margin:10px 0;
border-radius:8px;
border:1px solid #ddd;
}

body.dark-mode input{
background:#334155;
color:white;
border-color:#475569;
}

button{
width:100%;
padding:12px;
border:none;
border-radius:10px;
background:#2563eb;
color:white;
font-weight:600;
cursor:pointer;
}

.result{
margin-top:15px;
padding:10px;
background:#e8f7ee;
color:#15803d;
border-radius:8px;
}

body.dark-mode .result{
background:rgba(21,128,61,.2);
color:#86efac;
}
</style>
</head>

<body>

<div class="dashboard">

<!-- LEFT -->
<div class="input-card">

<h2>ðŸ“ˆ Demand Forecast</h2>

<h1 style="margin:15px 0;color:#2563eb">{{ forecast }} units</h1>

<form action="/calculate" method="post">
<input type="hidden" name="forecast" value="{{ forecast }}">
<input type="number" name="lead_time" placeholder="Lead Time (days)" required>
<input type="number" name="safety_stock" placeholder="Safety Stock" required>
<button>Calculate Reorder Point</button>
</form>

{% if reorder_point %}
<div class="result">
Reorder Point: {{ reorder_point }} units
</div>
{% endif %}

</div>

<!-- RIGHT -->
<div class="graph-card">
{% if graph %}
<img src="data:image/png;base64,{{ graph }}">
{% endif %}
</div>

</div>

<script>
const body=document.body;
document.addEventListener("dblclick",()=>body.classList.toggle("dark-mode"));
</script>

</body>
</html>
